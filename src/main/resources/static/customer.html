<!DOCTYPE html>
<html>
<head>
  <title>Order System - Customer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.1/sockjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
  <script type="text/javascript">
    var stompClient = null;

    function connect() {
      var socket = new SockJS('/ws');
      stompClient = Stomp.over(socket);
      stompClient.connect({}, function (frame) {
        console.log('Connected: ' + frame);
        stompClient.subscribe('/topic/order-status', function (messageOutput) {
          showOrderStatus(JSON.parse(messageOutput.body).status);
        });
      });
    }

    function sendOrder() {
      var orderDetails = document.getElementById('orderDetails').value;
      stompClient.send("/app/order", {}, JSON.stringify({
        'orderId': '1234',
        'customerName': 'John Doe',
        'orderDetails': orderDetails
      }));
    }

    function showOrderStatus(status) {
      var statusElement = document.getElementById('orderStatus');
      statusElement.innerHTML = 'Order Status: ' + status;
    }

    window.onload = function() {
      connect();
    };
  </script>
</head>
<body>
<h1>Order System - Customer</h1>
<div>
  <input type="text" id="orderDetails" placeholder="Enter your order details here..." />
  <button onclick="sendOrder()">Send Order</button>
</div>
<div id="orderStatus">Order Status: </div>
</body>
</html>